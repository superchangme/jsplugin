<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" id="eqMobileViewport" content="width=device-width,user-scalable=no" />
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <title>选择表情</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

<div class="loading ">
    <div class="spinner">
        <div class="loading_img"></div>
        <!--<div class="rect1"></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
        <div class="rect5"></div>-->
    </div>
</div>
<div class="app-wrap fade">
    <div class="main-box ">
        <div class="main-inner" id="photoInnerBox">
            <!--upload box-->
                   <div class="photo-input-box centerXY" data-step="choose-emoji">
                       <div class="photo-input-mask step-tip">
                           <input type="file"   accept="image/*;capture=camrea" id="photoInput"/>
                       </div>
                   </div>
            <!--main photo frame box-->
                  <div class="photoFrame centerXY" id="photoFrame">
                      <div class="full-p frame-inner visible">
                          <div class="photo-bg" id="emojiBg"></div>
                          <canvas id="photoCanvas"  ></canvas>
                          <canvas id="filterCanvas"  data-caman-hidpi-disabled style="display: none"></canvas>
                          <canvas id="eraserCanvas"   style="display: none"></canvas>
                          <div class="photo-cover" id="emojiCover"></div>
                          <canvas id="resultCanvas"   style="display: none;"></canvas>
                          <img id="resultImg" src='' style="display: none"/>
                      </div>
                  </div>
                 <!--steps list-->
                <div class="step main-step" data-step="text-emoji" >
                    <div class="textarea-bg step-tip">
                              <textarea id="emojiTextArea">

                    </textarea>
                    </div>
                </div>
            </div>
    </div>
    <div class="op-box">
        <div class="step" data-step="choose-emoji" id="emoji-tpl-list">
            <div class="scroller">
                <ul class="inline vm step-tip">
                    <li>
                        <img src="img/emoji_thumb_01.png"/>
                    </li>
                    <li>
                        <img src="img/emoji_thumb_02.png"/>
                    </li>
                    <li>
                        <img src="img/emoji_thumb_03.png"/>
                    </li> <li data-bg="true">
                    <img src="img/emoji_thumb_04.png"/>
                </li>
                    <li>
                        <img src="img/emoji_thumb_05.png"/>
                    </li>
                    <li>
                        <img src="img/emoji_thumb_06.png"/>
                    </li>
                    <li>
                        <img src="img/emoji_thumb_07.png"/>
                    </li>
                    <li>
                        <img src="img/emoji_thumb_08.png"/>
                    </li>
                    <li>
                        <img src="img/emoji_thumb_09.png"/>
                    </li>
                </ul>
                <div class="verticalAlign"></div>
             </div>
        </div>
        <div class="step" data-step="filter-emoji" >
            <div class="range-bar">
                <div class="info-line clearfix"><span class="pull-left">对比度</span><span  class="output pull-right">0</span> </div>
                <input type="range" max="100" min="-100" style="width: 200px" step="1" value="60" class="adjust-input" id="contrast"  data-rangeslider/>
            </div>
            <div class="range-bar">
                <div class="info-line clearfix"><span class="pull-left">曝光度</span><span  class="output pull-right">0</span></div>
        <input type="range" max="100" min="-100" style="width: 200px" step="1" value="0" class="adjust-input" id="exposure" data-rangeslider/>
            </div>
        </div>
        <div class="step" data-step="erase-emoji">
            <div class="reset-eraser">
                <a class='inline vm' id="resetEraser"><i class="ico-reset"></i>重擦</a>
            </div>
            <div  class="range-bar">
                <div class="info-line clearfix"><span class="pull-left">粗细</span><span  class="output pull-right">10</span></div>
                <input type="range" max="100" min="10" style="width: 200px" step="10" value="30" class="adjust-input" id="eraserRange"  data-rangeslider/>
            </div>
        </div>

        <div class="step" data-step="text-emoji" id="emoji-text-list">
                <div class="scroller">
                    <div class="item-row vm step-tip">
                        <div class="item"><div class='v-table'><div class='v-table-cell'>卧勒个槽！</div></div></div>
                        <div class="item"><div class='v-table'><div class='v-table-cell'>年轻人，你的思想很危险啊！</div></div></div>
                        <div class="item"><div class='v-table'><div class='v-table-cell'>么么哒～</div></div></div>
                        <div class="item"><div class='v-table'><div class='v-table-cell'>去你表妹！</div></div></div>
                    </div>
                    <div  class="item-row vm step-tip">
                        <div class="item"><div class='v-table'><div class='v-table-cell'>哎哟卧操！</div></div></div>
                        <div class="item"><div class='v-table'><div class='v-table-cell'>孩子，你需要治疗</div></div></div>
                        <div class="item"><div class='v-table'><div class='v-table-cell'>呵呵呵</div></div></div>
                        <div class="item"><div class='v-table'><div class='v-table-cell'>我是女神我怕谁</div></div></div>
                    </div>
                </div>
        </div>
        <div class="step" data-step="confirm-emoji" >
        </div>

    </div>
    <div class="op-bar">
        <div class="step" data-step="choose-emoji" >
            <a class="btn-label back-step" disabled>重拍</a>
            <a class="btn-yellow pull-right next-step">下一步</a>
        </div>
        <div class="step" data-step="filter-emoji" >
            <a class="btn-label back-step" >上一步</a>
            <a class="btn-yellow pull-right next-step">下一步</a>
        </div>
        <div class="step" data-step="erase-emoji" >
            <a class="btn-label back-step">上一步</a>
            <a class="btn-yellow pull-right next-step">下一步</a>
        </div>
        <div class="step" data-step="text-emoji" >
            <a class="btn-label back-step" >上一步</a>
            <a class="btn-yellow pull-right next-step">完成</a>
        </div>
        <div class="step" data-step="confirm-emoji" >
            <a class="btn-label back-step" >上一步</a>
            <a class="btn-yellow pull-right next-step">确认添加</a>
        </div>
    </div>
</div>
</body>
<script>
    var baseUrl="../../vendor/";
</script>
<script>
    var uploadUrl='http://127.0.0.1/test/upload.php';
    var APP={version:0.1};
    function sendFile(data){
        //data.imageData ---表情图片地址base64   data.filetype---图片后缀名
        var form = new FormData();
        form.append("filetype", data.filetype);
        form.append("imageData", data.imageData.substring(22));
        var xhrForm = new XMLHttpRequest();
        xhrForm.open("POST", uploadUrl);
        xhrForm.setRequestHeader("Access-Control-Allow-Origin","*");
        xhrForm.send(form);
    }
    document.addEventListener("touchmove",function(e){
        e.preventDefault();
    })

</script>
<script   src="require.js" ></script>
<script src="app.js"></script>
<!--<script  src="../../vendor/require.js" ></script>
<script   src="../../vendor/main.js" ></script>
<script src="../../vendor/app.js"></script>-->
</html>