(function(a){typeof define=="function"&&define.amd!=undefined?define(["jquery","hammer","hammer.fake","hammer.showtouch","megapix-image"],a):a()})(function(a){(function(){function b(b){return this.each(function(){var d=a(this),e=d.data("tom.hammer"),f=a.extend({},c.DEFAULTS,d.data(),typeof b=="object"&&b);e||d.data("tom.hammer",e=new c(this,f)),typeof f=="string"&&e[f]()})}function c(a,b){function c(a){switch(a.type){case"touch":k=j,m=l;break;case"drag":d=a.gesture.deltaX+f,e=a.gesture.deltaY+g,b.gestureCb.call(o,{x:d,y:e});break;case"transform":l=m+a.gesture.rotation,j=Math.max(0,Math.min(k*a.gesture.scale,10)),b.gestureCb.call(o,{scale:j,rotate:l});break;case"dragend":f=d,g=e}}console.log(b.gestureCb.toString());var d=0,e=0,f=0,g=0,h=0,i=0,j=1,k=1,l=1,m,n=0,o=this,p=Hammer(a,b);p.on("touch drag dragend transform",function(a){o.isStop||c(a)}),this.reset=function(){d=0,e=0,f=0,g=0,h=0,i=0,j=1,k=1,l=1}}!Hammer.HAS_TOUCHEVENTS&&!Hammer.HAS_POINTEREVENTS&&Hammer.plugins.showTouches(),!Hammer.HAS_TOUCHEVENTS&&!Hammer.HAS_POINTEREVENTS&&Hammer.plugins.fakeMultitouch(),a.fn.hammer=b,a.fn.hammer.Constructor=c,a.fn.hammer.noConflict=function(){return a.fn.hammer=d,this};var d=a.fn.hammer;c.DEFAULTS={transform_always_block:!0,transform_min_scale:1,drag_block_horizontal:!0,drag_block_vertical:!0,drag_min_distance:0,gestureCb:function(){console.log("���������ƻص�")}},c.prototype.stop=function(){this.isStop=!0},c.prototype.start=function(){this.isStop=!1}})()})