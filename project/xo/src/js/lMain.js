!function(e){function t(){c=e.datalist,p=e.fimglist,d=e.loadData,f=-parseInt((1008*ysStage.wScale-ysStage.windowHeight)/ysStage.wScale),f>0&&(f=0);var t=1008/ysStage.hwScale;t>640?t=640:640>t&&(t=640),m=new LSprite,m.x=-(1008-t)/2,addChild(m),l(T[0]),E.LTreeGame.visible=!0,s=new LSprite,s.x=w.LEarthBg.x,s.y=w.LEarthBg.y,E.LTreeGame.addChild(s),console.log("in")}function a(){r(),y=!0,E.LTreeGame.addEventListener(LEvent.ENTER_FRAME,n)}function n(e){s.rotate+=S,s.rotate>360&&(s.rotate=s.rotate-360)}function r(){for(var e in w)"Btn"==e.slice(e.length-3)&&w[e].addEventListener(LMouseEvent.MOUSE_DOWN,i)}function i(e){if(0==u){u=!0;var t=e.currentTarget.name;0==M&&(M=!0,setTimeout(o,300,t))}}function o(e){M=!1,"LBtn"==e&&1==y&&(w.LTreeSpMc.alpha=1,w.LTreeSpMc.y=224+w.LTreeSpMc.getHeight()/2,LTweenLite.to(w.LTreeSpMc,.05,{y:650}).to(w.LTreeSpMc,0,{alpha:0,onComplete:L})),u=!1}function L(e){w.LTreeSpMc.alpha=1,w.LTreeSpMc.y=224+w.LTreeSpMc.getHeight()/2;var t=parseInt(-s.rotate+90+180)%360;g=h("LTreeSp",!0),g.x=572*Math.cos(t*Math.PI/180),g.y=572*Math.sin(t*Math.PI/180),g.rotate=90+t,x.push(g),s.addChild(g);for(var a=0;a<G.length;a++){console.log(x[a].name);var n="f"==x[a].name?10:5;if(Math.abs(t-G[a])<n)return 1==y&&(y=!1),console.log("conorNum: "+n," rotNum-rotateArr[i]: "+(t-G[a])),LTweenLite.to(g,.2,{alpha:0}).to(g,.2,{alpha:1}).to(g,.2,{alpha:0}).to(g,.2,{alpha:1}),void Game.stopGame()}G.push(t),console.log("恭喜你，得分100分！"),Game.currentGame.newScore+=100,Game.updateScore(!0,100)}function l(e){var t=new LSprite;t.name=e;for(var a=0;a<d.length;a++)if(d[a].parent==e){var n=new h(d[a].name,!0);n.x=n.initX,n.y=n.initY,t.addChild(n)}E[e]=t,m.addChild(t)}function h(e,t){var a=new LBitmapData(c[e]),n=new LBitmap(a),r=new LSprite;1==t&&(n.x=-n.getWidth()/2,n.y=-n.getHeight()/2),r.bitmap=n,r.bitmapdata=a,r.addChild(n);var i;for(i=0;i<d.length;i++)if(e==d[i].name){1==t?(r.initX=d[i].x+n.getWidth()/2,r.initY=d[i].y+n.getHeight()/2):(r.initX=d[i].x,r.initY=d[i].y);break}return G[e+"Sp"]=r,r.name=e,w[e]=r,r}var c,d,p,m,s,g,v={init:t},f=0,u=!1,S=1.2,T=["LTreeGame"],E=[],M=!1,w=[],y=!1,G=[],x=[];v.LTreeIndexInit=function(){LGlobal.preventDefault=!1,G=[],x=[];for(var e=0;7>e;e++)G[e]=60*e;s.removeAllChild(),s.rotate=0;for(var t=["LEF1","LEF2","LEF3","LEF1","LEF2","LEF3"],n=60,e=0;7>e;e++){var r=h(t[e],!0);r.x=636*Math.cos(e*n*Math.PI/180),r.y=636*Math.sin(e*n*Math.PI/180),r.rotate=90+e*n,r.name="f",x.push(r),s.addChild(r)}w.LBtn.tween=LTweenLite.to(w.LBtn,10,{rotate:360,loop:!0}).to(w.LBtn,0,{rotate:0}),a()},v.LGameOver=function(){1==y&&(y=!1),E.LTreeGame.removeEventListener(LEvent.ENTER_FRAME,n),setTimeout(function(e){console.log("GameOver：显示 游戏结果页 post数据")},1e3)},$.extend(e.Game.gameBox.tree,v)}(window);